-- iSights Hypershot Utility
-- Made by iSight ZYX and Imran

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/violin-suzutsuki/LinoriaLib/main/Library.lua"))()
local ThemeManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/violin-suzutsuki/LinoriaLib/main/addons/ThemeManager.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/violin-suzutsuki/LinoriaLib/main/addons/SaveManager.lua"))()

local Window = Library:CreateWindow({
    Title = 'iSights Hypershot Utility',
    Center = true,
    AutoShow = true,
    TabPadding = 8,
    MenuFadeTime = 0.2
})

-- Set the default theme
Library:SetWatermark('iSights Hypershot Utility | Made by iSight ZYX and Imran')
Library:OnUnload(function()
    print('Unloaded!')
    Library.Unloaded = true
end)

-- Main tab
local MainTab = Window:AddTab('Main')
local AutoFarmSection = MainTab:AddLeftGroupbox('Auto Farm')

-- Auto Farm toggle
local AutoFarmEnabled = false
local AutoFarmButton = AutoFarmSection:AddButton('Auto Farm: OFF', function()
    AutoFarmEnabled = not AutoFarmEnabled
    
    if AutoFarmEnabled then
        AutoFarmButton:SetText('Auto Farm: ON')
        loadstring(game:HttpGet("https://rawscripts.net/raw/NEW!-Hypershot-(Gunfight)-Bring-All-Players-And-Bots-Open-Source-47412"))()
    else
        AutoFarmButton:SetText('Auto Farm: OFF')
        -- Add code here to stop the auto farm if needed
    end
end)

-- Info tab
local InfoTab = Window:AddTab('Info')
local InfoSection = InfoTab:AddLeftGroupbox('About & Instructions')

InfoSection:AddLabel('Made by iSight ZYX and Imran')
InfoSection:AddLabel(' ')
InfoSection:AddLabel('How to use:')
InfoSection:AddLabel('1. Enable Auto Farm to automatically bring all players')
InfoSection:AddLabel('2. You must have auto reload ability in first slot')
InfoSection:AddLabel(' ')
InfoSection:AddLabel('Script will auto-load Hypershot no cooldown')

-- Load the main script automatically
loadstring(game:HttpGet("https://rawscripts.net/raw/NEW!-Hypershot-(Gunfight)-No-Ability-Cooldown-Open-Sourced-47339"))()

-- UI Customization
Library:GiveSignal(function()
    -- Set the theme to dark
    ThemeManager:SetLibrary(Library)
    SaveManager:SetLibrary(Library)
    
    SaveManager:IgnoreThemeSettings()
    SaveManager:SetIgnoreIndexes({ 'MenuFadeTime' })
    
    ThemeManager:SetFolder('iSightsHypershot')
    SaveManager:SetFolder('iSightsHypershot')
    
    ThemeManager:ApplyToTab(Window)
    
    -- Customize the UI appearance
    Library.Background.Transparency = 0.7
    Library.Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Library.Main.Size = UDim2.new(0, 500, 0, 500)
    
    -- Make buttons animate on press
    for _, tab in next, Window.Tabs do
        for _, box in next, tab.Boxes do
            for _, element in next, box.Elements do
                if element.Instance:IsA('TextButton') then
                    element.Instance.MouseButton1Down:Connect(function()
                        element.Instance.BackgroundTransparency = 0.7
                    end)
                    
                    element.Instance.MouseButton1Up:Connect(function()
                        element.Instance.BackgroundTransparency = 0.85
                    end)
                    
                    element.Instance.MouseLeave:Connect(function()
                        element.Instance.BackgroundTransparency = 0.85
                    end)
                end
            end
        end
    end
end)

-- Minimize functionality
local minimized = false
local originalSize = Library.Main.Size
local minimizedSize = UDim2.new(0, 50, 0, 50)

local minimizeButton = Instance.new("TextButton")
minimizeButton.Text = "-"
minimizeButton.Size = UDim2.new(0, 20, 0, 20)
minimizeButton.Position = UDim2.new(1, -25, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.Font = Enum.Font.SourceSansBold
minimizeButton.TextSize = 18
minimizeButton.Parent = Library.Main

minimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    
    if minimized then
        Library.Main.Size = minimizedSize
        for _, tab in next, Window.Tabs do
            tab.Container.Visible = false
        end
    else
        Library.Main.Size = originalSize
        for _, tab in next, Window.Tabs do
            tab.Container.Visible = true
        end
    end
end)

-- Mobile friendly adjustments
if not is_sirhurt_closure and syn and syn.protect_gui then
    syn.protect_gui(Library.Main)
end

Library.Main.AnchorPoint = Vector2.new(0.5, 0.5)
Library.Main.Position = UDim2.new(0.5, 0, 0.5, 0)
Library.Main.Active = true
Library.Main.Draggable = true

-- Make UI more responsive for mobile
Library.Main:TweenSize(UDim2.new(0, 350, 0, 450), 'Out', 'Quad', 0.4, true)
