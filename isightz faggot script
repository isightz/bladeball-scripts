-- iSights Hypershot Utility UI by Zyx & Imran

loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

local OrionLib = OrionLib or shared.OrionLib
local Window = OrionLib:MakeWindow({
	Name = "iSights Hypershot Utility",
	HidePremium = false,
	SaveConfig = false,
	IntroText = "iSights Zyx & Imran",
	ConfigFolder = "iSightConfig"
})

-- Auto Farm Toggle
local autoFarmOn = false

Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
}):AddButton({
	Name = "Toggle Auto Farm",
	Callback = function()
		autoFarmOn = not autoFarmOn
		if autoFarmOn then
			getgenv().AFARM = true
			loadstring(game:HttpGet("https://rawscripts.net/raw/NEW!-Hypershot-(Gunfight)-Bring-All-Players-And-Bots-Open-Source-47412"))()
			OrionLib:MakeNotification({
				Name = "Auto Farm",
				Content = "Auto Farm Activated",
				Time = 3
			})
		else
			getgenv().AFARM = false
			OrionLib:MakeNotification({
				Name = "Auto Farm",
				Content = "Stopped. Reset to fully unload.",
				Time = 3
			})
		end
	end
})

-- Auto Clicker
local clickPoints = {}
local clickDelay = 0.5
local clickCount = 10
local clickerEnabled = false
local clickerPaused = false

local VirtualInputManager = game:GetService("VirtualInputManager")
local UserInputService = game:GetService("UserInputService")

local function startClicker()
	clickerEnabled = true
	clickerPaused = false
	task.spawn(function()
		while clickerEnabled and not clickerPaused do
			for i = 1, clickCount do
				if not clickerEnabled or clickerPaused then break end
				for _, point in ipairs(clickPoints) do
					VirtualInputManager:SendMouseButtonEvent(point.X, point.Y, 0, true, game, 0)
					VirtualInputManager:SendMouseButtonEvent(point.X, point.Y, 0, false, game, 0)
					task.wait(clickDelay)
				end
			end
		end
	end)
end

local Tab = Window:MakeTab({
	Name = "Auto Clicker",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

Tab:AddButton({
	Name = "Add Click Point",
	Callback = function()
		local pos = UserInputService:GetMouseLocation()
		table.insert(clickPoints, pos)
		OrionLib:MakeNotification({Name = "Clicker", Content = "Added Point", Time = 2})
	end
})

Tab:AddTextbox({
	Name = "Click Delay (sec)",
	Default = "0.5",
	TextDisappear = false,
	Callback = function(text)
		clickDelay = tonumber(text) or 0.5
	end
})

Tab:AddTextbox({
	Name = "Click Count",
	Default = "10",
	TextDisappear = false,
	Callback = function(text)
		clickCount = tonumber(text) or 10
	end
})

Tab:AddButton({
	Name = "Start Clicker",
	Callback = function()
		startClicker()
	end
})

Tab:AddButton({
	Name = "Pause / Resume Clicker",
	Callback = function()
		clickerPaused = not clickerPaused
	end
})

Tab:AddButton({
	Name = "Stop Clicker",
	Callback = function()
		clickerEnabled = false
		clickPoints = {}
	end
})

-- Info Tab
Window:MakeTab({
	Name = "Info",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
}):AddParagraph("iSight Utility", "Made by Zyx & Imran\n\nHow to Use:\n- Enable Auto Farm\n- Ensure Auto Reload is equipped in Slot 1")

-- Done
OrionLib:Init()
